#!/bin/bash
# mindevenviro wecker
# does beep if you should get up
# 
		if [[ ! $EUID =~ 1[0-9][0-9][0-9] ]] ;
	then
		echo "USAGE: dwecker" ;
		exit 0 ;
	else

beep(){
		while true
	do
		echo -e \\07 ;
		echo -e \\07 ;
		sleep 1 ;
	done
}
		exec 3>&1;
		result=$(dialog --inputbox minutes 0 0 2>&1 1>&3);
		let seconds="$result"*10
		exitcode=$?;
		exec 3>&-;
		
		while true
	do
		for i in $(seq 0 10 100) ;
	do
		if [[ "$seconds" != "0" ]] ;
	then
		((seconds--)) ;
		sleep .9 ;
		echo $i | dialog --gauge "soon beep..." 10 70 0; 
		echo $seconds
	else
		clear ;
		fortunes ;
		beep ;
fi
	done
done
fi
